# ===========================================
# YouTube Automation API - Environment Config
# ===========================================
# Copy this file to .env and fill in your values
# NEVER commit .env to version control!

# Application
PROJECT_NAME=YouTube Automation API
VERSION=0.1.0
API_V1_PREFIX=/api/v1
DEBUG=false

# ===========================================
# Database (REQUIRED)
# ===========================================
DATABASE_URL=postgresql+asyncpg://postgres:postgres@localhost:5432/youtube_automation

# ===========================================
# Redis (REQUIRED)
# ===========================================
REDIS_URL=redis://localhost:6379/0

# ===========================================
# Security (REQUIRED - Change these!)
# ===========================================
# Generate with: openssl rand -hex 32
SECRET_KEY=your-secret-key-change-in-production-use-strong-random-key

# JWT Token expiration
ACCESS_TOKEN_EXPIRE_MINUTES=15
REFRESH_TOKEN_EXPIRE_DAYS=7

# KMS Encryption Key for OAuth tokens (REQUIRED)
# Must be exactly 32 bytes for AES-256
# Generate with: openssl rand -hex 16 (gives 32 hex chars = 16 bytes, use base64 for 32 bytes)
KMS_ENCRYPTION_KEY=your-32-byte-encryption-key-here

# ===========================================
# YouTube OAuth (REQUIRED for YouTube features)
# ===========================================
# Get from Google Cloud Console: https://console.cloud.google.com/
YOUTUBE_CLIENT_ID=your-youtube-client-id
YOUTUBE_CLIENT_SECRET=your-youtube-client-secret
YOUTUBE_REDIRECT_URI=http://localhost:8000/api/v1/accounts/oauth/callback

# ===========================================
# CORS
# ===========================================
# JSON array of allowed origins
CORS_ORIGINS=["http://localhost:3000"]

# ===========================================
# Storage Configuration
# ===========================================
# Backend options: local, s3, minio
# - local: Store files on local filesystem
# - s3: AWS S3 storage
# - minio: MinIO or S3-compatible storage
STORAGE_BACKEND=local

# Local Storage (when STORAGE_BACKEND=local)
LOCAL_STORAGE_PATH=./storage

# S3/MinIO Storage (when STORAGE_BACKEND=s3 or minio)
STORAGE_BUCKET=youtube-automation
STORAGE_REGION=us-east-1
STORAGE_ACCESS_KEY=your-access-key
STORAGE_SECRET_KEY=your-secret-key

# Endpoint URL:
# - For AWS S3: leave empty (uses default AWS endpoints)
# - For MinIO: http://localhost:9000 or http://minio:9000 (Docker)
# - For other S3-compatible: your endpoint URL
STORAGE_ENDPOINT_URL=

# SSL Configuration:
# - For AWS S3: true
# - For local MinIO without SSL: false
# - For MinIO with SSL: true
STORAGE_USE_SSL=true

# CDN Configuration (optional, works with any backend)
CDN_ENABLED=false
CDN_DOMAIN=

# ===========================================
# Example: MinIO Configuration
# ===========================================
# STORAGE_BACKEND=minio
# STORAGE_BUCKET=youtube-automation
# STORAGE_REGION=us-east-1
# STORAGE_ACCESS_KEY=minioadmin
# STORAGE_SECRET_KEY=minioadmin
# STORAGE_ENDPOINT_URL=http://localhost:9000
# STORAGE_USE_SSL=false

# ===========================================
# Example: AWS S3 Configuration
# ===========================================
# STORAGE_BACKEND=s3
# STORAGE_BUCKET=my-youtube-automation-bucket
# STORAGE_REGION=ap-southeast-1
# STORAGE_ACCESS_KEY=AKIAIOSFODNN7EXAMPLE
# STORAGE_SECRET_KEY=wJalrXUtnFEMI/K7MDENG/bPxRfiCYEXAMPLEKEY
# STORAGE_ENDPOINT_URL=
# STORAGE_USE_SSL=true
# CDN_ENABLED=true
# CDN_DOMAIN=d1234567890.cloudfront.net

# ===========================================
# OpenAI API (for AI features)
# ===========================================
OPENAI_API_KEY=your-openai-api-key
OPENAI_MODEL=gpt-4-turbo-preview
OPENAI_MAX_TOKENS=2000
OPENAI_TEMPERATURE=0.7

# ===========================================
# Celery (for background tasks)
# ===========================================
CELERY_BROKER_URL=redis://localhost:6379/1
CELERY_RESULT_BACKEND=redis://localhost:6379/2

# ===========================================
# Email/SMTP (for notifications)
# ===========================================
SMTP_HOST=smtp.gmail.com
SMTP_PORT=587
SMTP_USER=your-email@gmail.com
SMTP_PASSWORD=your-app-password
SMTP_FROM_EMAIL=noreply@yourdomain.com
SMTP_TLS=true

# ===========================================
# Comment Management Settings
# ===========================================
COMMENT_SYNC_INTERVAL_MINUTES=5
COMMENT_SYNC_MAX_COMMENTS=1000

# ===========================================
# Moderation Settings
# ===========================================
MODERATION_ANALYSIS_TIMEOUT_SECONDS=2.0
CHATBOT_RESPONSE_TIMEOUT_SECONDS=3.0

# ===========================================
# Stream Settings
# ===========================================
STREAM_HEALTH_CHECK_INTERVAL_SECONDS=10
STREAM_RECONNECT_MAX_ATTEMPTS=5

# ===========================================
# Stripe Payment Processing (Requirements: 28.3)
# ===========================================
# Get from Stripe Dashboard: https://dashboard.stripe.com/apikeys
STRIPE_SECRET_KEY=sk_test_your_stripe_secret_key
STRIPE_PUBLISHABLE_KEY=pk_test_your_stripe_publishable_key

# Webhook secret for verifying Stripe webhooks
# Get from Stripe Dashboard: https://dashboard.stripe.com/webhooks
STRIPE_WEBHOOK_SECRET=whsec_your_webhook_secret

# Stripe Price IDs for subscription plans
# Create products and prices in Stripe Dashboard
STRIPE_PRICE_ID_BASIC=price_basic_plan_id
STRIPE_PRICE_ID_PRO=price_pro_plan_id
STRIPE_PRICE_ID_ENTERPRISE=price_enterprise_plan_id
